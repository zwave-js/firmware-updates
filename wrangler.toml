name = "zwave-js-firmware-updates"
usage_model = "unbound"
workers_dev = true
compatibility_date = "2022-08-28"

node_compat = true

main = "build/worker.js"

[build]
command = "yarn build"
watch_dir = "src"

# Required for Miniflare:
[build.upload]
format = "modules"

[durable_objects]
bindings = [
  {name = "RateLimiter", class_name = "RateLimiterDurableObject"},
]

[[r2_buckets]]
binding = "CONFIG_FILES"
bucket_name = "abcdefg"


[miniflare]
port = 8787
watch = true

cache = false
env_path = ".env"

kv_persist = true
do_persist = true
r2_persist = true
